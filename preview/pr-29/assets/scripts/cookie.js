(()=>{window.dataLayer=window.dataLayer||[];var i=e=>document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)")?.pop()||"";function c(){dataLayer.push(arguments)}function u(){if(!document.getElementById("gtm-script")){let e=document.createElement("script");e.id="gtm-script",e.async=!0,e.src="https://www.googletagmanager.com/gtm.js?id=GTM-MV2BWF89",document.head.appendChild(e),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"})}}function m(){if(!document.getElementById("clarity-script")){window.clarity=window.clarity||function(){(window.clarity.q=window.clarity.q||[]).push(arguments)},clarity("set","cookieDomain","find-support-after-a-fit-note.digital.cabinet-office.gov.uk");let e=document.createElement("script");e.id="clarity-script",e.type="text/javascript",e.async=!0,e.src="https://www.clarity.ms/tag/rgthjyi5pn",document.head.appendChild(e)}}function p(){let e=document.getElementById("gtm-script");e&&e.remove();let t=document.getElementById("clarity-script");t&&t.remove(),window.dataLayer&&(window.dataLayer.length=0),document.cookie="_ga=; Max-Age=0; path=/;",document.cookie="_gid=; Max-Age=0; path=/;",document.cookie="analytics=; Max-Age=0; path=/;",document.cookie="_clck=; Max-Age=0; path=/;",document.cookie="_clsk=; Max-Age=0; path=/;"}function a(){c("js",new Date),c("config","G-LCRPJR51P6",{cookie_domain:"find-support-after-a-fit-note.digital.cabinet-office.gov.uk"}),u(),m()}var o={userPreferences:{cookieName:"cookie-preferences",cookieExpiry:365,cookieSecure:location.protocol==="https:",cookieSameSite:"Lax"},preferencesForm:{class:"cookie-preferences-form"},cookieBanner:{class:"cookie-banner",showWithPreferencesForm:!1,actions:[{name:"accept",buttonClass:"cookie-banner-accept-button",consent:!0},{name:"reject",buttonClass:"cookie-banner-reject-button",consent:!1}]},cookieManifest:[{categoryName:"analytics",optional:!0,cookies:["analytics","_ga","_gid","_clck","_clsk"]}],additionalOptions:{defaultConsent:!1,deleteUndefinedCookies:!1,disableCookieBanner:!1,disableCookiePreferencesForm:!1}},g=(e,t,r,s,d)=>{let l=new Date(Date.now()+r*864e5).toUTCString(),f=s?"Secure;":"";document.cookie=`${e}=${t}; expires=${l}; path=/; ${f} SameSite=${d}`},n=e=>{g(o.userPreferences.cookieName,JSON.stringify(e),o.userPreferences.cookieExpiry,o.userPreferences.cookieSecure,o.userPreferences.cookieSameSite)},k=function(e){let t=document.querySelector(".cookie-banner-success");window.scrollTo({top:0,behavior:"smooth"}),t.removeAttribute("hidden"),t.focus()},y=function(e){e==="accept"?(a(),n({analytics:"on"})):e==="reject"&&(p(),n({analytics:"off"}))};window.cookieManager.on("PreferenceFormSubmitted",k);window.cookieManager.on("CookieBannerAction",y);window.cookieManager.init(o);i("cookie-preferences");try{let e=i("cookie-preferences");e&&JSON.parse(e).analytics==="on"&&a()}catch(e){console.error("Error parsing cookie preferences:",e)}})();
