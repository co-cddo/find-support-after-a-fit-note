(()=>{window.dataLayer=window.dataLayer||[];var s=e=>document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)")?.pop()||"";function n(e,o,i="/"){if(!o){document.cookie=`${e}=; Max-Age=0; path=${i}; Secure; SameSite=Lax`;return}o.startsWith(".")&&(o=o.slice(1)),document.cookie=`${e}=; Max-Age=0; path=${i}; domain=${o}; Secure; SameSite=Lax`,document.cookie=`${e}=; Max-Age=0; path=${i}; domain=.${o}; Secure; SameSite=Lax`}function a(){dataLayer.push(arguments)}function p(){if(!document.getElementById("gtm-script")){let e=document.createElement("script");e.id="gtm-script",e.async=!0,e.src="https://www.googletagmanager.com/gtm.js?id=GTM-MV2BWF89",document.head.appendChild(e),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"})}}function m(){let e=document.getElementById("gtm-script");e&&e.remove(),window.dataLayer&&(window.dataLayer.length=0),["_ga","_gid","_ga_LCRPJR51P6"].forEach(o=>{n(o,"find-support-after-a-fit-note.digital.cabinet-office.gov.uk"),n(o,"cabinet-office.gov.uk")}),n("cookie-preferences","find-support-after-a-fit-note.digital.cabinet-office.gov.uk")}function f(){a("js",new Date),a("config","G-LCRPJR51P6",{cookie_domain:"find-support-after-a-fit-note.digital.cabinet-office.gov.uk"}),p()}var c={userPreferences:{cookieName:"cookie-preferences",cookieExpiry:365,cookieSecure:location.protocol==="https:",cookieSameSite:"Lax"},preferencesForm:{class:"cookie-preferences-form"},cookieBanner:{class:"cookie-banner",showWithPreferencesForm:!1,actions:[{name:"accept",buttonClass:"cookie-banner-accept-button",consent:!0},{name:"reject",buttonClass:"cookie-banner-reject-button",consent:!1}]},cookieManifest:[{categoryName:"analytics",optional:!0,cookies:["analytics","_ga","_gid"]}],additionalOptions:{defaultConsent:!1,deleteUndefinedCookies:!1,disableCookieBanner:!1,disableCookiePreferencesForm:!1}},w=(e,o,i,u,d,t)=>{t&&t.startsWith(".")&&(t=t.slice(1));let l=new Date(Date.now()+i*864e5).toUTCString(),g=u?"Secure;":"",k=t?`domain=${t};`:"";document.cookie=`${e}=${o}; expires=${l}; path=/; ${k}${g} SameSite=${d}`},r=e=>{document.cookie=`${c.userPreferences.cookieName}=; Max-Age=0; path=/;`,w(c.userPreferences.cookieName,JSON.stringify(e),c.userPreferences.cookieExpiry,c.userPreferences.cookieSecure,c.userPreferences.cookieSameSite,"find-support-after-a-fit-note.digital.cabinet-office.gov.uk")},S=function(e){let o=document.querySelector(".cookie-banner-success");window.scrollTo({top:0,behavior:"smooth"}),o.removeAttribute("hidden"),o.focus()},y=function(e){e==="accept"?(f(),r({analytics:"on"})):e==="reject"&&(m(),r({analytics:"off"}))};window.cookieManager.on("PreferenceFormSubmitted",S);window.cookieManager.on("CookieBannerAction",y);window.cookieManager.init(c);s("cookie-preferences");try{let e=s("cookie-preferences");e&&JSON.parse(e).analytics==="on"&&f()}catch(e){console.error("Error parsing cookie preferences:",e)}})();
