(()=>{window.dataLayer=window.dataLayer||[];(function(){if(typeof window>"u")return;new URLSearchParams(window.location.search).get("internal")?.toLowerCase()==="true"&&localStorage.setItem("userType","internal");let t=localStorage.getItem("userType")||"external";window.dataLayer.push({user_type:t})})();var f=e=>document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)")?.pop()||"";function r(){dataLayer.push(arguments)}function m(){if(!document.getElementById("gtm-script")){let e=document.createElement("script");e.id="gtm-script",e.async=!0,e.src="https://www.googletagmanager.com/gtm.js?id=GTM-MV2BWF89",document.head.appendChild(e),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"})}}function p(){let e=document.getElementById("gtm-script");e&&e.remove(),window.dataLayer&&(window.dataLayer.length=0),["_ga","_gid","_clck","_clsk","analytics","MUID","CLID"].forEach(t=>{document.cookie=`${t}=; Max-Age=0; path=/;`})}function c(e,o=0){typeof clarity=="function"?(clarity("set","user_type",e),console.log("Clarity user_type set:",e)):o<10?setTimeout(()=>c(e,o+1),300):console.warn("Clarity not available after multiple attempts")}function s(){r("js",new Date);let e=localStorage.getItem("userType")||"external";c(e),r("set",{user_properties:{user_type:e}}),r("config","G-LCRPJR51P6"),m()}var n={userPreferences:{cookieName:"cookie-preferences",cookieExpiry:365,cookieSecure:location.protocol==="https:",cookieSameSite:"Lax"},preferencesForm:{class:"cookie-preferences-form"},cookieBanner:{class:"cookie-banner",showWithPreferencesForm:!1,actions:[{name:"accept",buttonClass:"cookie-banner-accept-button",consent:!0},{name:"reject",buttonClass:"cookie-banner-reject-button",consent:!1}]},cookieManifest:[{categoryName:"analytics",optional:!0,cookies:["analytics","_ga","_gid","_clck","_clsk","CLID","MUID"]}],additionalOptions:{defaultConsent:!1,deleteUndefinedCookies:!1,disableCookieBanner:!1,disableCookiePreferencesForm:!1}},g=(e,o,t,i,l)=>{let u=new Date(Date.now()+t*864e5).toUTCString(),d=i?"Secure;":"";document.cookie=`${e}=${o}; expires=${u}; path=/; ${d} SameSite=${l}`},a=e=>{g(n.userPreferences.cookieName,JSON.stringify(e),n.userPreferences.cookieExpiry,n.userPreferences.cookieSecure,n.userPreferences.cookieSameSite)},k=function(){let e=document.querySelector(".cookie-banner-success");window.scrollTo({top:0,behavior:"smooth"}),e.removeAttribute("hidden"),e.focus()},y=function(e){e==="accept"?(a({analytics:"on"}),s()):e==="reject"&&(a({analytics:"off"}),p())};window.cookieManager.on("PreferenceFormSubmitted",k);window.cookieManager.on("CookieBannerAction",y);window.cookieManager.init(n);try{let e=f("cookie-preferences");e&&JSON.parse(e).analytics==="on"&&s()}catch(e){console.error("Error parsing cookie preferences:",e)}})();
